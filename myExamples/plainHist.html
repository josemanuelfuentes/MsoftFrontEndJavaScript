<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Histogram Line Graph</title>
<style>
  body, html {
    height: 100%;
    margin: 0;
  }
    #chart {
    width: 100%;
    height: 80%;
    position: relative;
    border-left: 2px solid black;
    border-bottom: 2px solid black;
  }
  .point {
    position: absolute;
    height: 5px;
    width: 5px;
    border-radius: 50%;
    background-color: black;
  }
  #reset {
    margin-top: 10px;
  }
</style>
</head>
<body>
<div id="chart"></div>
<button id="reset">Reset</button>

<script>
// Dummy data stream
let data = [
{ timestamp: '1', val1: 5, val2: 8 },
{ timestamp: '2', val1: 4, val2: 7 },
{ timestamp: '3', val1: 3, val2: 6 },
{ timestamp: '4', val1: 2, val2: 5 },
{ timestamp: '5', val1: 1, val2: 4 },
{ timestamp: '6', val1: 2, val2: 5 },
{ timestamp: '7', val1: 3, val2: 6 },
{ timestamp: '8', val1: 4, val2: 7 },
{ timestamp: '9', val1: 5, val2: 8 },
{ timestamp: '10', val1: 4, val2: 9 }
];

const chart = document.getElementById('chart');
const maxValue = Math.max(...data.map(d => Math.max(d.val1, d.val2)));

// Function to update the histogram line graph
function updateHistogram() {
  chart.innerHTML = ''; // Clear the chart
  data.forEach((d, i) => {
    const point1 = document.createElement('div');
    point1.className = 'point';
    point1.style.bottom = `${(d.val1 / maxValue) * 100}%`;
    point1.style.left = `${i * 40}px`;
    chart.appendChild(point1);

    const point2 = document.createElement('div');
    point2.className = 'point';
    point2.style.bottom = `${(d.val2 / maxValue) * 100}%`;
    point2.style.left = `${i * 40 + 20}px`;
    point2.style.backgroundColor = 'red';
    chart.appendChild(point2);
  });
}

// Reset button functionality
document.getElementById('reset').addEventListener('click', () => {
  data = []; // Reset data
  updateHistogram();
});

// Initial histogram render
updateHistogram();

// Function to simulate data stream and update the histogram
function simulateDataStream() {
  const timestamp = new Date().getTime();
  const val1 = Math.floor(Math.random() * 10);
  const val2 = Math.floor(Math.random() * 10);
  data.push({ timestamp, val1, val2 });
  updateHistogram();
}

// Simulate data stream every second
setInterval(simulateDataStream, 1000);

</script>
</body>
</html>
