<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Histogram Plotter</title>
<style>
  #chart {
    width: 100%;
    height: 500px;
    position: relative;
  }
  .bar {
    position: absolute;
    bottom: 0;
    background: #3498db;
    width: 20px;
    border: 1px solid #2980b9;
  }
  #reset {
    margin-top: 10px;
  }
</style>
</head>
<body>
<div id="chart"></div>
<button id="reset">Reset</button>

<script>
// Dummy data stream
let data = [
  { timestamp: '1', val1: 5, val2: 8 },
  // Add more data objects here
];

const chart = document.getElementById('chart');
const maxValue = Math.max(...data.map(d => Math.max(d.val1, d.val2)));

// Function to update the histogram
function updateHistogram() {
  chart.innerHTML = ''; // Clear the chart
  data.forEach((d, i) => {
    const bar1 = document.createElement('div');
    bar1.className = 'bar';
    bar1.style.height = `${(d.val1 / maxValue) * 100}%`;
    bar1.style.left = `${i * 40}px`;
    chart.appendChild(bar1);

    const bar2 = document.createElement('div');
    bar2.className = 'bar';
    bar2.style.height = `${(d.val2 / maxValue) * 100}%`;
    bar2.style.left = `${i * 40 + 22}px`;
    bar2.style.background = '#e74c3c';
    chart.appendChild(bar2);
  });
}

// Reset button functionality
document.getElementById('reset').addEventListener('click', () => {
  data = []; // Reset data
  updateHistogram();
});

// Initial histogram render
updateHistogram();

// Function to simulate data stream and update the histogram
function simulateDataStream() {
  const timestamp = new Date().getTime();
  const val1 = Math.floor(Math.random() * 10);
  const val2 = Math.floor(Math.random() * 10);
  data.push({ timestamp, val1, val2 });
  updateHistogram();
}

// Simulate data stream every second
setInterval(simulateDataStream, 1000);

</script>
</body>
</html>
